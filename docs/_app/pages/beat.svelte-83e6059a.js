import{S as t,i as s,s as e,e as a,c as n,a as l,d as r,b as i,f as o,x as c,E as h,t as u,g as f,D as m,L as d,h as p,k as g,n as v,M as x,N as w,O as y,j as $,m as E,o as j,P as D,Q as k,R as V,u as I,T as S,U as M,v as P,V as X,w as N,F as T,W as b,r as A,X as L}from"../chunks/vendor-57371f43.js";import{t as R}from"../chunks/timestamp-c9f97abd.js";function U(t){let s,e;return{c(){s=a("div"),e=u("..."),this.h()},l(t){s=n(t,"DIV",{class:!0});var a=l(s);e=f(a,"..."),a.forEach(r),this.h()},h(){i(s,"class","loading svelte-1iwppxw")},m(t,a){o(t,s,a),m(s,e)},p:h,i:h,o:h,d(t){t&&r(s)}}}function W(t){let s,e,c,$,E,j=t[1]&&z(t);return{c(){s=a("div"),e=a("span"),c=u(t[0]),$=g(),j&&j.c(),this.h()},l(a){s=n(a,"DIV",{});var i=l(s);e=n(i,"SPAN",{class:!0});var o=l(e);c=f(o,t[0]),o.forEach(r),$=v(i),j&&j.l(i),i.forEach(r),this.h()},h(){i(e,"class","svelte-1iwppxw"),d(e,"detail",t[1])},m(t,a){o(t,s,a),m(s,e),m(e,c),m(s,$),j&&j.m(s,null)},p(t,a){1&a&&p(c,t[0]),2&a&&d(e,"detail",t[1]),t[1]?j?j.p(t,a):(j=z(t),j.c(),j.m(s,null)):j&&(j.d(1),j=null)},i(t){t&&(E||x((()=>{E=w(s,y,{duration:400,delay:300}),E.start()})))},o:h,d(t){t&&r(s),j&&j.d()}}}function z(t){let s,e;return{c(){s=a("span"),e=u(t[1]),this.h()},l(a){s=n(a,"SPAN",{class:!0});var i=l(s);e=f(i,t[1]),i.forEach(r),this.h()},h(){i(s,"class","formatted svelte-1iwppxw"),d(s,"prime",t[2]),d(s,"oyster",t[3])},m(t,a){o(t,s,a),m(s,e)},p(t,a){2&a&&p(e,t[1]),4&a&&d(s,"prime",t[2]),8&a&&d(s,"oyster",t[3])},d(t){t&&r(s)}}}function B(t){let s;function e(t,s){return t[4]?W:U}let u=e(t),f=u(t);return{c(){s=a("div"),f.c(),this.h()},l(t){s=n(t,"DIV",{id:!0,class:!0});var e=l(s);f.l(e),e.forEach(r),this.h()},h(){i(s,"id","formatted"),i(s,"class","svelte-1iwppxw")},m(t,e){o(t,s,e),f.m(s,null)},p(t,[a]){u===(u=e(t))&&f?f.p(t,a):(f.d(1),f=u(t),f&&(f.c(),c(f,1),f.m(s,null)))},i(t){c(f)},o:h,d(t){t&&r(s),f.d()}}}function C(t,s,e){let a,{timestamp:n}=s,l=null,r=!1,i=!1;function o({text:t,pr:s=!1,oy:n=!1}){e(4,a=!0),e(1,l=t),e(2,r=s),e(3,i=n)}function c(){(async function(t){return new Promise(((s,e)=>{var a=new Worker("/workers/factorization.js");a.onmessage=t=>s(t.data),a.postMessage(t)}))})(n).then((t=>o({text:t.join(" * "),pr:1==t.length})))}return setTimeout((()=>function(t){let s=Math.random();s>.995?o({text:"oyster",oy:!0}):s>.94?o({text:new Date(1e3*t).toLocaleString("en-US")}):s>.7?c():o({text:null})}(n)),10),t.$$set=t=>{"timestamp"in t&&e(0,n=t.timestamp)},e(4,a=!1),[n,l,r,i,a]}class F extends t{constructor(t){super(),s(this,t,C,B,e,{timestamp:0})}}function O(t,s,e){const a=t.slice();return a[5]=s[e],a[7]=e,a}function Q(t,s){let e,u,f,d,p,y,X,N=h;return u=new F({props:{timestamp:s[5].time}}),{key:t,first:null,c(){e=a("div"),$(u.$$.fragment),f=g(),this.h()},l(t){e=n(t,"DIV",{class:!0});var s=l(e);E(u.$$.fragment,s),f=v(s),s.forEach(r),this.h()},h(){i(e,"class","timestamp"),this.first=e},m(t,s){o(t,e,s),j(u,e,null),m(e,f),X=!0},p(t,e){s=t;const a={};1&e&&(a.timestamp=s[5].time),u.$set(a)},r(){y=e.getBoundingClientRect()},f(){D(e),N(),k(e,y)},a(){N(),N=V(e,y,b,{duration:200})},i(t){X||(c(u.$$.fragment,t),t&&x((()=>{p&&p.end(1),d=w(e,M,{x:s[5].flyX,duration:250,delay:240}),d.start()})),X=!0)},o(t){I(u.$$.fragment,t),d&&d.invalidate(),t&&(p=S(e,M,{x:.15*s[5].flyX,duration:250,delay:0})),X=!1},d(t){t&&r(e),P(u),t&&p&&p.end()}}}function q(t){let s,e,h=[],u=new Map,f=t[0];const m=t=>t[5].id;for(let a=0;a<f.length;a+=1){let s=O(t,f,a),e=m(s);u.set(e,h[a]=Q(e,s))}return{c(){s=a("div");for(let t=0;t<h.length;t+=1)h[t].c();this.h()},l(t){s=n(t,"DIV",{id:!0,class:!0});var e=l(s);for(let s=0;s<h.length;s+=1)h[s].l(e);e.forEach(r),this.h()},h(){i(s,"id","timestamps"),i(s,"class","svelte-1ysxjj9")},m(t,a){o(t,s,a);for(let e=0;e<h.length;e+=1)h[e].m(s,null);e=!0},p(t,[e]){if(1&e){f=t[0],A();for(let t=0;t<h.length;t+=1)h[t].r();h=X(h,e,m,1,t,f,u,s,L,Q,null,O);for(let t=0;t<h.length;t+=1)h[t].a();N()}},i(t){if(!e){for(let t=0;t<f.length;t+=1)c(h[t]);e=!0}},o(t){for(let s=0;s<h.length;s+=1)I(h[s]);e=!1},d(t){t&&r(s);for(let s=0;s<h.length;s+=1)h[s].d()}}}function G(t,s,e){let a;T(t,R,(t=>e(1,a=t)));let n=300,l=1,r=[];return t.$$.update=()=>{var s;2&t.$$.dirty&&e(0,(s=a,r=r?(setTimeout((()=>{r.length>=30&&e(0,r=r.slice(0,-1))}),680),[{id:l++,time:s,flyX:n*=-1},...r]):[]))},[r,a]}class H extends t{constructor(t){super(),s(this,t,G,q,e,{})}}export{H as default};
